<div id="wx-photo">
    <div ng-show="user.record == null" class="wx-prompt">正在加载数据...</div>

    <h2>基本信息</h2>
    <div ng-show="user.record">
        <form name="saveProfileForm" class="pure-form pure-form-stacked wex-form">
            <fieldset>
                <label for="name">用户账号：</label>
                <input id="name" type="text" ng-required="true" ng-readonly="true"
                       ng-model="user.record.username">
                
                <label for="name">用户姓名：</label>
                <input id="name" type="text" ng-required="true"
                       ng-model="user.record.name" placeholder="请输入用户姓名">

                <label for="mobile">手机手机：</label>
                <input id="mobile" type="text" ng-required="true" ng-pattern="/^1\d{10}$/"
                       ng-model="user.record.mobile" placeholder="请输入手机号码">

                <!--label for="email">电子邮箱：</label>
                <input id="email" type="text" ng-pattern="/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/"
                       ng-model="user.record.email" placeholder="请输入邮箱"-->

            </fieldset>
        </form>
        <div class="wx-buttons">
            <button class="btn" type="button"
                    ng-disabled="!saveProfileForm.$valid"
                    ng-class="{'btn-primary': saveProfileForm.$valid}" ng-click="user.saveRecord()">保存</button>
        </div>
    </div>

    <br/>

    <h2>修改密码</h2>
    <div ng-show="user.record">
        <form id="savePasswordForm" name="savePasswordForm" class="pure-form pure-form-stacked wex-form">
            <fieldset>
                <label for="oldpassword">旧密码：</label>
                <input id="oldpassword" type="password" ng-required="true"
                       ng-model="user.record.oldpassword" placeholder="请输入旧密码">

                <label for="newpassword">新密码：</label>
                <input id="newpassword" type="password" ng-required="true" ng-minlength="4"
                       ng-model="user.record.newpassword" placeholder="请输入新密码，至少4位">

                <label for="confirmpassword">确认新密码：</label>
                <input id="confirmpassword" type="password" ng-required="true"
                       ng-model="user.record.confirmpassword" placeholder="请再次输入新密码">
            </fieldset>
        </form>
        <div class="wx-buttons">
            <button class="btn"
                    ng-disabled="!savePasswordForm.$valid || user.record.newpassword != user.record.confirmpassword"
                    ng-class="{'btn-primary': savePasswordForm.$valid && user.record.newpassword == user.record.confirmpassword}"
                    ng-click="user.savePassword()">修改</button>
        </div>
    </div>
    
</div>